查看PCT测试的执行流程代码，以便详细描述整个操作过程。
        
            
toolName: view_files
            
status: success
          
            
filePath: d:\desktop\applets\新建文件夹\test_executor.py
          
# PCT 2轮测试完整流程描述

## 测试环境
- **测试对象**：单个主板（仅配置一块硬盘）
- **测试类型**：PCT（Power Cycle Test）
- **测试轮次**：2轮
- **测试工具**：基于Python的测试框架

## 完整流程

### 1. 测试初始化阶段
- **时间点**：测试开始前
- **操作步骤**：
  1. 解析测试命令，获取测试轮次（2轮）
  2. 加载PCT测试配置参数：
     - WOL唤醒后等待时间：40秒
     - 关机后等待时间：15秒
     - FIO测试大小：1G
  3. 更新测试进度状态，设置总轮次为2，当前测试项为PCT
  4. 记录测试开始时间
  5. 选择测试主机（单个主板）
  6. 更新主机测试进度信息

### 2. 第一轮测试（Cycle 1）
- **开始时间**：T1
- **操作步骤**：
  1. **唤醒主机**（T1）：
     - 发送WOL唤醒命令到目标主板
     - 等待40秒让主机完全启动
  2. **等待主机上线**（T1+40s）：
     - 检查主机是否成功启动并在线
     - 如果超时，测试失败并退出
  3. **连接主机**（T1+40s+Δt1）：
     - 建立SSH连接到测试主机
     - 如果连接失败，测试失败并退出
  4. **获取SSD信息**（T1+40s+Δt1+Δt2）：
     - 收集SSD的详细信息（序列号、型号、厂商等）
     - 更新SSD状态到测试进度对象
  5. **SSD信息一致性检查**（T1+40s+Δt1+Δt2+Δt3）：
     - 验证SSD信息的一致性
     - 如果检查失败，测试失败并退出
  6. **创建测试文件**（T1+40s+Δt1+Δt2+Δt3+Δt4）：
     - 为SSD创建唯一的测试结果文件
     - 文件名格式：`{时间戳}-{SSD序列号}-PCT-{温度}C.txt`
  7. **执行FIO测试**（T1+40s+Δt1+Δt2+Δt3+Δt4+Δt5）：
     - 第一轮执行写命令，不校验：
       ```
       fio --ioengine=libaio --bs=1M --iodepth=128 --numjobs=1 
       --direct=1 --name=test --rw=write --filename=$i --verify=crc32c 
       --do_verify=0 --group_reporting --size=1G
       ```
     - 记录测试结果和输出
  8. **关闭主机**（T1+40s+Δt1+Δt2+Δt3+Δt4+Δt5+Δt6）：
     - 发送关机命令到测试主机
     - 等待15秒让主机完全关闭
  9. **等待主机关机**（T1+40s+Δt1+Δt2+Δt3+Δt4+Δt5+Δt6+15s）：
     - 确认主机已成功关闭
     - 如果超时，记录警告但继续测试
  10. **断开连接**（T1+40s+Δt1+Δt2+Δt3+Δt4+Δt5+Δt6+15s+Δt7）：
     - 断开与测试主机的SSH连接
  11. **生成测试总结**（T1+40s+Δt1+Δt2+Δt3+Δt4+Δt5+Δt6+15s+Δt7+Δt8）：
     - 计算本轮测试耗时
     - 生成第一轮测试总结，包含：
       - 测试结束时间
       - 测试耗时
       - 测试结果摘要
     - 将总结追加到测试结果文件
- **结束时间**：T1_end
- **状态变化**：测试进度更新为第1轮完成，准备开始第2轮

### 3. 第二轮测试（Cycle 2）
- **开始时间**：T2
- **操作步骤**：
  1. **唤醒主机**（T2）：
     - 发送WOL唤醒命令到目标主板
     - 等待40秒让主机完全启动
  2. **等待主机上线**（T2+40s）：
     - 检查主机是否成功启动并在线
     - 如果超时，测试失败并退出
  3. **连接主机**（T2+40s+Δt1）：
     - 建立SSH连接到测试主机
     - 如果连接失败，测试失败并退出
  4. **获取SSD信息**（T2+40s+Δt1+Δt2）：
     - 收集SSD的详细信息
     - 更新SSD状态到测试进度对象
  5. **SSD信息一致性检查**（T2+40s+Δt1+Δt2+Δt3）：
     - 验证SSD信息与第一轮的一致性
     - 如果检查失败，测试失败并退出
  6. **执行FIO测试**（T2+40s+Δt1+Δt2+Δt3+Δt4）：
     - 第二轮执行读命令（带校验）和写命令（不带校验）：
       ```
       # 读命令（带校验）
       fio --ioengine=libaio --bs=1M --iodepth=128 --numjobs=1 
       --direct=1 --name=test --rw=read --filename=$i --verify=crc32c 
       --do_verify=1 --group_reporting --size=1G
       
       # 写命令（不带校验）
       fio --ioengine=libaio --bs=1M --iodepth=128 --numjobs=1 
       --direct=1 --name=test --rw=write --filename=$i --verify=crc32c 
       --do_verify=0 --group_reporting --size=1G
       ```
     - 记录测试结果和输出
  7. **关闭主机**（T2+40s+Δt1+Δt2+Δt3+Δt4+Δt5）：
     - 发送关机命令到测试主机
     - 等待15秒让主机完全关闭
  8. **等待主机关机**（T2+40s+Δt1+Δt2+Δt3+Δt4+Δt5+15s）：
     - 确认主机已成功关闭
     - 如果超时，记录警告但继续测试
  9. **断开连接**（T2+40s+Δt1+Δt2+Δt3+Δt4+Δt5+15s+Δt6）：
     - 断开与测试主机的SSH连接
  10. **生成测试总结**（T2+40s+Δt1+Δt2+Δt3+Δt4+Δt5+15s+Δt6+Δt7）：
     - 计算本轮测试耗时
     - 生成第二轮测试总结，包含：
       - 测试结束时间
       - 测试耗时
       - 测试结果摘要
     - 将总结追加到测试结果文件
- **结束时间**：T2_end
- **状态变化**：测试进度更新为第2轮完成，所有轮次测试结束

### 4. 测试完成阶段
- **开始时间**：T2_end
- **操作步骤**：
  1. **汇总测试结果**：
     - 计算总测试耗时
     - 汇总两轮测试的结果
  2. **更新测试状态**：
     - 将测试状态设置为完成
     - 记录测试结束时间
  3. **输出测试完成信息**：
     - 记录测试完成日志
     - 通知用户测试已完成

## 3. 关键时间点
- **T1**：第一轮测试开始时间
- **T1_end**：第一轮测试结束时间
- **T2**：第二轮测试开始时间
- **T2_end**：第二轮测试结束时间
- **总测试时间**：T2_end - T1

## 4. 状态变化
1. **测试初始化** → **第一轮测试开始**
2. **第一轮测试开始** → **唤醒主机** → **等待上线** → **连接主机** → **获取SSD信息** → **一致性检查** → **创建测试文件** → **执行FIO测试** → **关闭主机** → **等待关机** → **断开连接** → **生成总结** → **第一轮测试完成**
3. **第一轮测试完成** → **第二轮测试开始**
4. **第二轮测试开始** → **唤醒主机** → **等待上线** → **连接主机** → **获取SSD信息** → **一致性检查** → **执行FIO测试** → **关闭主机** → **等待关机** → **断开连接** → **生成总结** → **第二轮测试完成**
5. **第二轮测试完成** → **测试完成**

## 5. 测试结果文件
- **文件路径**：`./nvme_test_log/{测试时间}/{主机名称}/{时间戳}-{SSD序列号}-PCT-{温度}C.txt`
- **文件内容**：
  - 第一轮测试结果（FIO输出、SSD信息等）
  - 第一轮测试总结
  - 第二轮测试结果（FIO输出、SSD信息等）
  - 第二轮测试总结

## 6. 注意事项
1. 所有操作步骤都有明确的时间记录和状态更新
2. 每轮测试都包含完整的启动-测试-关闭周期
3. 第一轮测试创建测试文件，第二轮测试复用该文件
4. 每轮测试后都会生成详细的测试总结
5. 测试过程中的错误会被及时捕获并处理
6. 测试结果文件包含完整的测试数据和日志

此流程描述了对单个主板执行PCT 2轮测试的完整操作过程，可作为测试执行核查的依据，确保实际测试过程符合预期标准和要求。